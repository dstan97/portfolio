<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
<h1 class="col-9 col-md-8 mx-md-auto text-center">JavaScript</h1>
<div class="row mt-2">
    <div class="card col-12 col-md-8 offset-md-2">
        <h2 class="card-title">Data Validation</h2>
        <p class="card-text mb-2"></p>
        <form class="row">

            <p class="col-12 col-md-2 text-center">Enter your first name: </p>
            <input class="col-12 col-md-2" type="text" id="fname" name="firstname" maxlength="20" size="20">
            <p class="col-12 col-md-2 text-center">Enter your surname: </p>
            <input class="col-12 col-md-2" type="text" id="sname" name="surname" maxlength="20" size="20">
            <div class="col-12 my-2">
                <input class="btn btn-info" type="submit" value="Submit" onClick="validate()">
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="card col-9 col-md-8 mx-md-auto mb-2">
        <div class="card-body">
            <div class="row">
                <div class="col-12">
                    <p>
                        In the section above I have created two input forms. The input forms use data validation to check, first whether or not the box is empty,
                        then if the names that have been entered are between 2 and 20 characters.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row mt-2">
    <div class="card col-12 col-md-8 offset-md-2">
        <h2 class="card-title">Drum Machine</h2>
        <p class="card-text mb-2"></p>
        <div class="drum-machine">
            <h3>Press the buttons to play the sounds:</h3>
            <div class="visual my-4">
                <div class="row pads">
                    <div class="kick_pad btn btn-info col py-3 mr-1">
                        Kick
                        <audio class="sound" src="sounds/kick.wav"></audio>
                    </div>
                    <div class="snare_pad btn btn-success col py-3">
                        Snare
                        <audio class="sound" src="sounds/snare.wav"></audio>
                    </div>
                    <div class="hat_pad btn btn-danger col py-3 mx-1">
                        Hi-Hat
                        <audio class="sound" src="sounds/hat.wav"></audio>
                    </div>
                    <div class="closed_pad btn btn-primary col py-3 mr-1">
                        Hi-Hat 2
                        <audio class="sound" src="sounds/closed.wav"></audio>
                    </div>
                    <div class="clap_pad btn btn-warning col py-3">
                        Clap
                        <audio class="sound" src="sounds/clap.wav"></audio>
                    </div>
                    <div class="crowd_pad btn btn-secondary col py-3 ml-1">
                        Crowd
                        <audio class="sound" src="sounds/crowd.wav"></audio>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="card col-9 col-md-8 mx-md-auto mb-2">
        <div class="card-body">
            <div class="row">
                <div class="col-12">
                    <p>
                        The drum machine above was created by attaching audio files inside of divs.
                        The audio files are played played through the use of a for loop that matches the correct
                        sound with the button pressed.
                    </p>
                    <p>
                        The 'currentTime' of the sound files is reset each time the button is pressed to allow for
                        sounds to overlap.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<script language="Javascript">
    window.addEventListener('load', () => {
        const sounds = document.querySelectorAll('.sound');
        const pads = document.querySelectorAll('.pads div');

        console.log(sounds);

        //sound
        pads.forEach((pad, index) =>{
            pad.addEventListener('click', function(){
                sounds[index].currentTime = 0;
                sounds[index].play();
            });
        });
    });

    function validate()
    {
        // check that the input box is not empty
        if (document.getElementById('fname').value.length > 0)
        {
            // check that the user's name is longer than 2 characters
            if (document.getElementById('fname').value.length < 4)
            {
                alert("Only first names that are between 4-20 characters are allowed.");
            }

            else
            {
                alert("Your name has been accepted.");
            }
        }

        else{
            alert("Please do not leave the first name box blank.");
        }

        if (document.getElementById('sname').value.length > 0)
        {
            if (document.getElementById('sname').value.length < 4)
            {
                alert("Only surnames that are between 4-20 characters are allowed.");
            }

            else
            {
                // if the conditions are met the user's name will be accepted.
                alert("Your name has been accepted.");
            }
        }

        else{
            alert("Please do not leave the surname box blank.");
        }
    }
</script>
</body>
</html>